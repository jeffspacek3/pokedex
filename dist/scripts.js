let pokemonRepository=function(){function e(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){console.log(t),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,showModal(e)}).catch(function(e){console.error(e)})}function t(e){"object"==typeof e?pokemonList.push(e):console.log("pokemon is not correct")}return pokemonList=[],{add:t,getAll:function e(){return pokemonList},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:e,addListItem:function t(n){let o=document.querySelector(".pokemon-list"),i=document.createElement("li"),l=document.createElement("button");l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#exampleModal"),l.innerText=n.name,l.classList.add("button-class"),l.addEventListener("click",function(){e(n)}),i.appendChild(l),o.appendChild(i)}}}();function showModal(e){let t=document.querySelector(".modal-body");t.innerHTML="";let n=document.createElement("div"),o=document.createElement("button");o.classList.add("modal-close"),o.innerText="Close",o.addEventListener("click",hideModal);let i=document.createElement("h1");i.innerText=e.name;let l=document.createElement("p");l.innerText="Height:"+e.height;let a=document.createElement("img");a.src=e.imageUrl,n.appendChild(o),n.appendChild(i),n.appendChild(l),n.appendChild(a),t.appendChild(n),t.classList.add("is-visible")}function hideModal(){document.querySelector("#modal-container").classList.remove("is-visible")}function showDialog(e,t){showModal(e,t);let n=document.querySelector("#modal-container").querySelector(".modal"),o=document.createElement("button");o.classList.add("modal-confirm"),o.innerText="Confirm";let i=document.createElement("button");i.classList.add("modal-cancel"),i.innerText="Cancel",n.appendChild(o),n.appendChild(i),o.focus()}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),document.querySelector("#show-modal").addEventListener("click",()=>{showModal("Modal title","This is the modal content!")}),window.addEventListener("keydown",e=>{let t=document.querySelector("#modal-container");"Escape"===e.key&&t.classList.contains("is-visible")&&hideModal()}),document.querySelector("#show-dialog").addEventListener("click",()=>{showDialog("Confirm action","Are you sure you want to do this?")});
